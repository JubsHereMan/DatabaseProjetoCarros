-- TABELA ENDERECO 
CREATE TABLE tbl_endereco (
    id_endereco         INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    logradouro          VARCHAR(30) NOT NULL,
    numero              SMALLINT NOT NULL,
    cep                 CHAR(8) NOT NULL UNIQUE,
    bairro              VARCHAR(15) NOT NULL,
    cidade              VARCHAR(20) NOT NULL,
    estado              CHAR(2) NOT NULL,
    CONSTRAINT chk_cep_endereco CHECK (LENGTH(cep) = 8 AND cep NOT LIKE '%[^0-9]%'),
    CONSTRAINT chk_estado_endereco CHECK (estado IN ('AC', 'AL', 'AP', 'AM', 'BA', 'CE', 'DF', 'ES', 'GO', 'MA', 'MT', 'MS', 'MG', 'PA', 'PB', 'PR', 'PE', 'PI', 'RJ', 'RN', 'RS', 'RO', 'RR', 'SC', 'SP', 'SE', 'TO'))
);

-- TABELA CLIENTES
CREATE TABLE tbl_cliente (
    id_cliente          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome                VARCHAR(40) NOT NULL,
    cpf                 CHAR(11) NOT NULL UNIQUE,
    id_endereco         INTEGER,
    CONSTRAINT chk_cpf_cliente CHECK (LENGTH(cpf) = 11 AND cpf NOT LIKE '%[^0-9]%'),
    CONSTRAINT fk_cliente_endereco FOREIGN KEY (id_endereco) REFERENCES tbl_endereco(id_endereco)
);

-- TABELA LOGIN
CREATE TABLE tbl_login (
    id            NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email         VARCHAR2(100) NOT NULL UNIQUE,
    senha         VARCHAR2(256) NOT NULL,
    id_cliente    INTEGER,
    CONSTRAINT fk_cliente_login FOREIGN KEY (id_cliente)
        REFERENCES tbl_cliente (id_cliente)
        ON DELETE CASCADE
);


-- TABELA OFICINA
CREATE TABLE tbl_oficina (
    id_oficina          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    cnpj                CHAR(14) NOT NULL UNIQUE,
    id_endereco         INTEGER,
    CONSTRAINT chk_cnpj_oficina CHECK (LENGTH(cnpj) = 14 AND cnpj NOT LIKE '%[^0-9]%'),
        CONSTRAINT fk_oficina_endereco FOREIGN KEY (id_endereco) REFERENCES tbl_endereco(id_endereco)

);



-- TABELA VEICULO 
CREATE TABLE tbl_veiculo (
    id_veiculo          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    marca               VARCHAR(15) NOT NULL,
    modelo              VARCHAR(15) NOT NULL,
    tipo_transmissao    VARCHAR(10) NOT NULL,
    ano                 SMALLINT NOT NULL,
    placa               CHAR(7) NOT NULL UNIQUE,
    id_cliente          INTEGER NOT NULL,
    CONSTRAINT fk_veiculo_cliente FOREIGN KEY (id_cliente) REFERENCES tbl_cliente(id_cliente),
    CONSTRAINT chk_placa_veiculo CHECK (LENGTH(placa) = 7)
);

-- TABELA PROBLEMA 
CREATE TABLE tbl_problema (
    id_problema         INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    local_problema      VARCHAR(25) NOT NULL,
    complexidade        VARCHAR(15) NOT NULL,
    tipo                VARCHAR(10) NOT NULL
);



-- TABELA DIAGNOSTICO 
CREATE TABLE tbl_diagnostico (
    id_diagnostico      INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    custo               NUMBER NOT NULL CHECK (custo >= 0),
    analise             VARCHAR(20) NOT NULL,
    id_problema         INTEGER NOT NULL,
    CONSTRAINT fk_diagnostico_problema FOREIGN KEY (id_problema) REFERENCES tbl_problema(id_problema)
);

-- TABELA PECAS 
CREATE TABLE tbl_pecas (
    id_peca             INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    codigo              VARCHAR(15) NOT NULL UNIQUE,
    valor               DECIMAL(7,2) NOT NULL,
    nome_peca                VARCHAR(25) NOT NULL
);




-- TABELA DIAGNOSTICO_PECA 
CREATE TABLE tbl_diagnostico_peca (
    id_diagnostico      INTEGER NOT NULL,
    id_peca             INTEGER NOT NULL,
    PRIMARY KEY (id_diagnostico, id_peca),
    CONSTRAINT fk_diagnostico_peca_diagnostico FOREIGN KEY (id_diagnostico) REFERENCES tbl_diagnostico(id_diagnostico),
    CONSTRAINT fk_diagnostico_peca_peca FOREIGN KEY (id_peca) REFERENCES tbl_pecas(id_peca)
);



-- TABELA MECANICO 
CREATE TABLE tbl_mecanico (
    id_mecanico         INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome                VARCHAR(40) NOT NULL,
    cpf                 CHAR(11) NOT NULL UNIQUE,
    CONSTRAINT chk_cpf_mecanico CHECK (LENGTH(cpf) = 11 AND cpf NOT LIKE '%[^0-9]%')
);

-- TABELA MECANICO_DIAGNOSTICO 
CREATE TABLE tbl_mecanico_diagnostico (
    id_diagnostico      INTEGER NOT NULL,
    id_mecanico         INTEGER NOT NULL,
    PRIMARY KEY (id_diagnostico, id_mecanico),
    CONSTRAINT fk_mecanico_diagnostico_diagnostico FOREIGN KEY (id_diagnostico) REFERENCES tbl_diagnostico(id_diagnostico),
    CONSTRAINT fk_mecanico_diagnostico_mecanico FOREIGN KEY (id_mecanico) REFERENCES tbl_mecanico(id_mecanico)
);

-- TABELA PAGAMENTO 
CREATE TABLE tbl_pagamento (
    id_pagamento        INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    valor               DECIMAL(7,2) NOT NULL CHECK (valor >= 0),
    forma_pagamento     VARCHAR(15) NOT NULL,
    id_mecanico         INTEGER NOT NULL,
    CONSTRAINT fk_pagamento_mecanico FOREIGN KEY (id_mecanico) REFERENCES tbl_mecanico(id_mecanico)
);

-- TABELA TELEFONE_CLIENTE
CREATE TABLE tbl_telefone_cliente (
    ddd                 INTEGER NOT NULL,
    nr_telefone         VARCHAR(11) NOT NULL,
    id_cliente          INTEGER NOT NULL,
    PRIMARY KEY (ddd, nr_telefone),
    CONSTRAINT fk_telefone_cliente FOREIGN KEY (id_cliente) REFERENCES tbl_cliente(id_cliente),
    CONSTRAINT chk_telefone_cliente CHECK (ddd BETWEEN 11 AND 99 AND LENGTH(nr_telefone) = 11)
);

-- TABELA TELEFONE_MECANICO
CREATE TABLE tbl_telefone_mecanico (
    ddd                 INTEGER NOT NULL,
    nr_telefone         VARCHAR(11) NOT NULL,
    id_mecanico         INTEGER NOT NULL,
    PRIMARY KEY (ddd, nr_telefone),
    CONSTRAINT fk_telefone_mecanico FOREIGN KEY (id_mecanico) REFERENCES tbl_mecanico(id_mecanico),
    CONSTRAINT chk_telefone_mecanico CHECK (ddd BETWEEN 11 AND 99 AND LENGTH(nr_telefone) = 11)
);

-- Inserção de dados na tabela TBL_CLIENTE
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (1, 'Maria Silva', '12345678901');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (2, 'João Santos', '23456789012');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (3, 'Ana Oliveira', '34567890123');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (4, 'Paulo Costa', '45678901234');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (5, 'Carla Souza', '56789012345');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (6, 'Lucas Lima', '67890123456');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (7, 'Juliana Pereira', '78901234567');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (8, 'Ricardo Almeida', '89012345678');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (9, 'Fernanda Rodrigues', '90123456789');
INSERT INTO TBL_CLIENTE (id_cliente, nome, cpf) VALUES (10, 'Gustavo Ferreira', '01234567890');

SELECT *FROM TBL_CLIENTE;

INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('maria.silva@example.com', 'senha123', 1);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('joao.santos@example.com', 'senha123', 2);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('ana.oliveira@example.com', 'senha123', 3);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('paulo.costa@example.com', 'senha123', 4);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('carla.souza@example.com', 'senha123', 5);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('lucas.lima@example.com', 'senha123', 6);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('juliana.pereira@example.com', 'senha123', 7);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('ricardo.almeida@example.com', 'senha123', 8);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('fernanda.rodrigues@example.com', 'senha123', 9);
INSERT INTO tbl_login (email, senha, id_cliente) VALUES ('gustavo.ferreira@example.com', 'senha123', 10);

SELECT *FROM TBL_LOGIN;

-- Inserção de dados na tabela TBL_VEICULO 
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (1, 'Toyota', 'Corolla', 'Auto', 2020, 'ABC1234', 1);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (2, 'Honda', 'Civic', 'Manual', 2019, 'DEF5678', 2);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (3, 'Ford', 'Focus', 'Auto', 2018, 'GHI9012', 3);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (4, 'Chevrolet', 'Onix', 'Manual', 2017, 'JKL3456', 4);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (5, 'Volkswagen', 'Golf', 'Auto', 2021, 'MNO7890', 5);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (6, 'Hyundai', 'Elantra', 'Manual', 2016, 'PQR1234', 6);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (7, 'Renault', 'Kwid', 'Auto', 2022, 'STU5678', 7);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (8, 'Fiat', 'Argo', 'Manual', 2015, 'VWX9012', 8);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (9, 'Peugeot', '208', 'Auto', 2014, 'YZA3456', 9);
INSERT INTO TBL_VEICULO (id_veiculo, marca, modelo, tipo_transmissao, ano, placa, id_cliente) 
VALUES (10, 'Nissan', 'Versa', 'Manual', 2023, 'BCD7890', 10);



select * from tbl_veiculo;



-- Inserção de dados na tabela TBL_PROBLEMA
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (1, 'Motor', 'Alta', 'Mecânico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (2, 'Transmissão', 'Média', 'Mecânico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (3, 'Suspensão Traseira', 'Baixa', 'Mecânico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (4, 'Freios', 'Alta', 'Mecânico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (5, 'Direção Hidráulica', 'Média', 'Mecânico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (6, 'Sistema de Escape', 'Baixa', 'Mecânico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (7, 'Bateria', 'Média', 'Elétrico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (8, 'Alternador', 'Alta', 'Elétrico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (9, 'Sistema Elétrico', 'Alta', 'Elétrico');
INSERT INTO TBL_PROBLEMA (id_problema, local_problema, complexidade, tipo) 
VALUES (10, 'Faróis', 'Baixa', 'Elétrico');





SELECT * FROM TBL_PROBLEMA; 




INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (1, 'Pastilha de Freio', 150.00, 'PF-001');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (2, 'Amortecedor', 300.00, 'AM-002');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (3, 'Bateria', 400.00, 'BA-003');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (4, 'Óleo de Motor', 80.00, 'OM-004');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (5, 'Filtro de Ar', 50.00, 'FA-005');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (6, 'Correia Dentada', 200.00, 'CD-006');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (7, 'Alternador', 600.00, 'AL-007');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (8, 'Velas de Ignição', 120.00, 'VI-008');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (9, 'Cabo de Aceleração', 30.00, 'CA-009');
INSERT INTO TBL_PECAS (id_peca, nome_peca, valor, codigo) 
VALUES (10, 'Sensor de Estacionamento', 250.00, 'SE-010');

SELECT * FROM TBL_PECAS;


-- Inserção de dados na tabela TBL_MECANICO
-- Inserção de dados na tabela TBL_MECANICO
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (1, 'Carlos Silva', '12345678900');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (2, 'Ana Pereira', '23456789011');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (3, 'Roberto Santos', '34567890122');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (4, 'Mariana Costa', '45678901233');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (5, 'Luiz Fernando', '56789012344');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (6, 'Juliana Almeida', '67890123455');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (7, 'Fernando Lima', '78901234566');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (8, 'Patrícia Gomes', '89012345677');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (9, 'Ricardo Martins', '90123456788');
INSERT INTO TBL_MECANICO (id_mecanico, nome, cpf) 
VALUES (10, 'Sofia Ribeiro', '01234567899');

SELECT * FROM TBL_MECANICO;

-- Inserção de dados na tabela tbl_oficina com ID
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (1, '12345678000195');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (2, '23456789000196');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (3, '34567890000197');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (4, '45678901000198');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (5, '56789012000199');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (6, '67890123000100');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (7, '78901234000101');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (8, '89012345000102');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (9, '90123456000103');
INSERT INTO tbl_oficina (id_oficina, cnpj) VALUES (10, '01234567000104');

SELECT * FROM TBL_OFICINA;



CREATE TABLE TBL_VEICULO_SERVICO (
    id_veiculo           INTEGER NOT NULL,
    id_problema          INTEGER NOT NULL,
    id_peca              INTEGER NOT NULL,
    id_mecanico          INTEGER NOT NULL,
    data_servico         DATE,
    FOREIGN KEY (id_veiculo) REFERENCES TBL_VEICULO(id_veiculo),
    FOREIGN KEY (id_problema) REFERENCES TBL_PROBLEMA(id_problema),
    FOREIGN KEY (id_peca) REFERENCES TBL_PECAS(id_peca),
    FOREIGN KEY (id_mecanico) REFERENCES TBL_MECANICO(id_mecanico),
    PRIMARY KEY (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
);



-- Inserções na tabela TBL_VEICULO_SERVICO
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (1, 1, 2, 3, TO_DATE('2024-09-01', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (2, 2, 4, 1, TO_DATE('2024-09-02', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (3, 3, 5, 2, TO_DATE('2024-09-03', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (4, 4, 1, 5, TO_DATE('2024-09-04', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (5, 5, 6, 6, TO_DATE('2024-09-05', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (6, 6, 3, 4, TO_DATE('2024-09-06', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (7, 7, 7, 2, TO_DATE('2024-09-07', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (8, 8, 8, 1, TO_DATE('2024-09-08', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (9, 9, 9, 3, TO_DATE('2024-09-09', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (10, 10, 10, 2, TO_DATE('2024-09-10', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (1, 3, 1, 6, TO_DATE('2024-09-11', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (2, 4, 5, 4, TO_DATE('2024-09-12', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (3, 5, 6, 5, TO_DATE('2024-09-13', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (4, 6, 7, 1, TO_DATE('2024-09-14', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (5, 7, 2, 3, TO_DATE('2024-09-15', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (6, 8, 4, 2, TO_DATE('2024-09-16', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (7, 9, 5, 4, TO_DATE('2024-09-17', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (8, 10, 6, 5, TO_DATE('2024-09-18', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (9, 1, 7, 1, TO_DATE('2024-09-19', 'YYYY-MM-DD'));
INSERT INTO TBL_VEICULO_SERVICO (id_veiculo, id_problema, id_peca, id_mecanico, data_servico)
VALUES (10, 2, 8, 2, TO_DATE('2024-09-20', 'YYYY-MM-DD'));



select * from TBL_VEICULO_SERVICO;





-- Inserções na tabela TBL_ENDERECO
INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (1, 'Rua Exemplo', 100, '12345678', 'Centro', 'Cidade A', 'SP');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (2, 'Avenida Exemplo', 200, '87654321', 'Bairro B', 'Cidade B', 'RJ');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (3, 'Rua do Sol', 300, '11223344', 'Bairro C', 'Cidade C', 'MG');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (4, 'Rua da Lua', 400, '22334455', 'Bairro D', 'Cidade D', 'BA');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (5, 'Praça da Paz', 500, '33445566', 'Bairro E', 'Cidade E', 'PR');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (6, 'Alameda dos Anjos', 600, '44556677', 'Bairro F', 'Cidade F', 'RS');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (7, 'Rua das Flores', 700, '55667788', 'Bairro G', 'Cidade G', 'SC');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (8, 'Avenida das Águas', 800, '66778899', 'Bairro H', 'Cidade H', 'CE');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (9, 'Estrada da Luz', 900, '77889900', 'Bairro I', 'Cidade I', 'GO');

INSERT INTO TBL_ENDERECO (id_endereco, logradouro, numero, cep, bairro, cidade, estado)
VALUES (10, 'Rodovia do Amor', 1000, '88990011', 'Bairro J', 'Cidade J', 'DF');


SELECT* FROM TBL_ENDERECO;

--ordenar os nomes 
SELECT nome, cpf
FROM tbl_cliente
ORDER BY nome ASC;

--ordenar os anos 
SELECT marca, modelo, ano
FROM tbl_veiculo
ORDER BY ano DESC;


--agrupando com base no tipo de transmissão
SELECT tipo_transmissao, COUNT(*) AS quantidade
FROM tbl_veiculo
GROUP BY tipo_transmissao;

-- Clientes que possuem veículos de um ano específico 
SELECT marca, modelo, ano
FROM tbl_veiculo
WHERE ano > (SELECT AVG(ano) FROM tbl_veiculo);


--clientes que possuem veiculos de um ano em especifico 
SELECT nome, cpf
FROM tbl_cliente
WHERE id_cliente IN (
    SELECT id_cliente
    FROM tbl_veiculo
    WHERE ano = 2020
);

SELECT v.marca, v.modelo, v.ano, c.nome AS cliente
FROM tbl_veiculo v
JOIN tbl_cliente c ON v.id_cliente = c.id_cliente;



-- Inserir valores em TBL_CLIENTE com ID de endereço
UPDATE TBL_CLIENTE SET id_endereco = 1 WHERE id_cliente = 1;
UPDATE TBL_CLIENTE SET id_endereco = 2 WHERE id_cliente = 2;
UPDATE TBL_CLIENTE SET id_endereco = 3 WHERE id_cliente = 3;
UPDATE TBL_CLIENTE SET id_endereco = 4 WHERE id_cliente = 4;
UPDATE TBL_CLIENTE SET id_endereco = 5 WHERE id_cliente = 5;
UPDATE TBL_CLIENTE SET id_endereco = 6 WHERE id_cliente = 6;
UPDATE TBL_CLIENTE SET id_endereco = 7 WHERE id_cliente = 7;
UPDATE TBL_CLIENTE SET id_endereco = 8 WHERE id_cliente = 8;
UPDATE TBL_CLIENTE SET id_endereco = 9 WHERE id_cliente = 9;
UPDATE TBL_CLIENTE SET id_endereco = 10 WHERE id_cliente = 10;

SELECT * FROM TBL_CLIENTE;
SELECT * FROM TBL_ENDERECO;


DESCRIBE tbl_endereco;

